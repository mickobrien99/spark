angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(t){var e=t.storageKey(),n=t.storage();n?n.get(e)?t.use(n.get(e)):angular.isString(t.preferredLanguage())?t.use(t.preferredLanguage()):n.set(e,t.use()):angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(t){var e,n,r,a,i,o,s,u,l,c,f,g,h,d,p={},v=[],$=t,m=[],S=!1,y="translate-cloak",L=!1,w=".",b=function(){var t=window.navigator;return(t.language||t.browserLanguage||t.systemLanguage||t.userLanguage||"").split("-").join("_")},k=function(t){for(var e=[],r=angular.lowercase(t),a=0,i=v.length;i>a;a++)e.push(angular.lowercase(v[a]));if(e.indexOf(r)>-1)return t;if(n){var o;for(var s in n){var u=!1,l=n.hasOwnProperty(s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(u=s.slice(0,-1)===t.slice(0,s.length-1)),(l||u)&&(o=n[s],e.indexOf(angular.lowercase(o))>-1))return o}}var c=t.split("_");return c.length>1&&e.indexOf(angular.lowercase(c[0]))>-1?c[0]:t},I=function(t,e){if(!t&&!e)return p;if(t&&!e){if(angular.isString(t))return p[t]}else angular.isObject(p[t])||(p[t]={}),angular.extend(p[t],E(e));return this};this.translations=I,this.cloakClassName=function(t){return t?(y=t,this):y};var E=function(t,e,n,r){var a,i,o,s;e||(e=[]),n||(n={});for(a in t)t.hasOwnProperty(a)&&(s=t[a],angular.isObject(s)?E(s,e.concat(a),n,a):(i=e.length?""+e.join(w)+w+a:a,e.length&&a===r&&(o=""+e.join(w),n[o]="@:"+i),n[i]=s));return n};this.addInterpolation=function(t){return m.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return c=t,this},this.useSanitizeValueStrategy=function(t){return S=t,this},this.preferredLanguage=function(t){return t?(e=t,this):e},this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(h=t,this):h},this.translationNotFoundIndicatorRight=function(t){return t?(d=t,this):d},this.fallbackLanguage=function(t){return C(t),this};var C=function(t){return t?(angular.isString(t)?(a=!0,r=[t]):angular.isArray(t)&&(a=!1,r=t),angular.isString(e)&&r.push(e),this):a?r[0]:r};this.use=function(t){if(t){if(!p[t]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return i=t,this}return i};var j=function(t){return t?void($=t):u?u+$:$};this.storageKey=j,this.useUrlLoader=function(t){return this.useLoader("$translateUrlLoader",{url:t})},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return f=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return s=t,this},this.storagePrefix=function(t){return t?(u=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return l=t,this},this.usePostCompiling=function(t){return L=!!t,this},this.determinePreferredLanguage=function(t){var n=t&&angular.isFunction(t)?t():b();return e=v.length?k(n):n,this},this.registerAvailableLanguageKeys=function(t,e){return t?(v=t,e&&(n=e),this):v},this.$get=["$log","$injector","$rootScope","$q",function(t,n,u,v){var w,b,P,x=n.get(c||"$translateDefaultInterpolation"),O=!1,F={},T={},N=function(t,n,a){if(angular.isArray(t)){var o=function(t){for(var e={},r=[],i=function(t){var r=v.defer(),i=function(n){e[t]=n,r.resolve([t,n])};return N(t,n,a).then(i,i),r.promise},o=0,s=t.length;s>o;o++)r.push(i(t[o]));return v.all(r).then(function(){return e})};return o(t)}var u=v.defer();t&&(t=t.trim());var l=function(){var t=e?T[e]:T[i];if(b=0,s&&!t){var n=w.get($);if(t=T[n],r&&r.length){var a=A(r,n);b=a>-1?a+=1:0,r.push(e)}}return t}();return l?l.then(function(){U(t,n,a).then(u.resolve,u.reject)},u.reject):U(t,n,a).then(u.resolve,u.reject),u.promise},A=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},V=function(t){return h&&(t=[h,t].join(" ")),d&&(t=[t,d].join(" ")),t},K=function(t){i=t,u.$emit("$translateChangeSuccess"),s&&w.set(N.storageKey(),i),x.setLocale(i),angular.forEach(F,function(t,e){F[e].setLocale(i)}),u.$emit("$translateChangeEnd")},R=function(t){if(!t)throw"No language key specified for loading.";var e=v.defer();return u.$emit("$translateLoadingStart"),O=!0,n.get(f)(angular.extend(g,{key:t})).then(function(n){var r={};u.$emit("$translateLoadingSuccess"),angular.isArray(n)?angular.forEach(n,function(t){angular.extend(r,E(t))}):angular.extend(r,E(n)),O=!1,e.resolve({key:t,table:r}),u.$emit("$translateLoadingEnd")},function(t){u.$emit("$translateLoadingError"),e.reject(t),u.$emit("$translateLoadingEnd")}),e.promise};if(s&&(w=n.get(s),!w.get||!w.set))throw new Error("Couldn't use storage '"+s+"', missing get() or set() method!");angular.isFunction(x.useSanitizeValueStrategy)&&x.useSanitizeValueStrategy(S),m.length&&angular.forEach(m,function(t){var r=n.get(t);r.setLocale(e||i),angular.isFunction(r.useSanitizeValueStrategy)&&r.useSanitizeValueStrategy(S),F[r.getInterpolationIdentifier()]=r});var M=function(t){var e=v.defer();return p.hasOwnProperty(t)?(e.resolve(p[t]),e.promise):(T[t].then(function(t){I(t.key,t.table),e.resolve(t.table)},e.reject),e.promise)},_=function(t,e,n,r){var a=v.defer();return M(t).then(function(o){o.hasOwnProperty(e)?(r.setLocale(t),a.resolve(r.interpolate(o[e],n)),r.setLocale(i)):a.reject()},a.reject),a.promise},z=function(t,e,n,r){var a,o=p[t];return o.hasOwnProperty(e)&&(r.setLocale(t),a=r.interpolate(o[e],n),r.setLocale(i)),a},q=function(t,e,a,o){var s=v.defer();if(t<r.length){var u=r[t];_(u,e,a,o).then(function(t){s.resolve(t)},function(){var n=q(t+1,e,a,o);s.resolve(n)})}else if(l){var c=n.get(l)(e,i);s.resolve(void 0!==c?c:e)}else s.resolve(e);return s.promise},G=function(t,e,n,a){var i;if(t<r.length){var o=r[t];i=z(o,e,n,a),i||(i=G(t+1,e,n,a))}return i},H=function(t,e,n){return q(P>0?P:b,t,e,n)},D=function(t,e,n){return G(P>0?P:b,t,e,n)},U=function(t,e,a){var o=v.defer(),s=i?p[i]:p,u=a?F[a]:x;if(s&&s.hasOwnProperty(t)){var c=s[t];"@:"===c.substr(0,2)?N(c.substr(2),e,a).then(o.resolve,o.reject):o.resolve(u.interpolate(c,e))}else l&&!O&&n.get(l)(t,i),i&&r&&r.length?H(t,e,u).then(function(t){o.resolve(t)},function(t){o.reject(V(t))}):o.reject(V(t));return o.promise},Y=function(t,e,a){var o,s=i?p[i]:p,u=a?F[a]:x;if(s&&s.hasOwnProperty(t)){var c=s[t];o="@:"===c.substr(0,2)?Y(c.substr(2),e,a):u.interpolate(c,e)}else l&&!O&&n.get(l)(t,i),i&&r&&r.length?(b=0,o=D(t,e,u)):o=V(t);return o};if(N.preferredLanguage=function(){return e},N.cloakClassName=function(){return y},N.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(C(t),f&&r&&r.length)for(var e=0,n=r.length;n>e;e++)T[r[e]]||(T[r[e]]=R(r[e]));N.use(N.use())}return a?r[0]:r},N.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=A(r,t);e>-1&&(P=e)}else P=0},N.proposedLanguage=function(){return o},N.storage=function(){return w},N.use=function(t){if(!t)return i;var e=v.defer();u.$emit("$translateChangeStart");var n=k(t);return n&&(t=n),!p[t]&&f?(o=t,T[t]=R(t).then(function(n){I(n.key,n.table),e.resolve(n.key),o===t&&(K(n.key),o=void 0)},function(t){o=void 0,u.$emit("$translateChangeError"),e.reject(t),u.$emit("$translateChangeEnd")})):(e.resolve(t),K(t)),e.promise},N.storageKey=function(){return j()},N.isPostCompilingEnabled=function(){return L},N.refresh=function(t){function e(){a.resolve(),u.$emit("$translateRefreshEnd")}function n(){a.reject(),u.$emit("$translateRefreshEnd")}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");var a=v.defer();if(u.$emit("$translateRefreshStart"),t)p[t]?R(t).then(function(n){I(n.key,n.table),t===i&&K(i),e()},n):n();else{var o=[];if(r&&r.length)for(var s=0,l=r.length;l>s;s++)o.push(R(r[s]));i&&o.push(R(i)),v.all(o).then(function(t){angular.forEach(t,function(t){p[t.key]&&delete p[t.key],I(t.key,t.table)}),i&&K(i),e()})}return a.promise},N.instant=function(t,a,o){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var s={},u=0,c=t.length;c>u;u++)s[t[u]]=N.instant(t[u],a,o);return s}if(angular.isString(t)&&t.length<1)return t;t&&(t=t.trim());var f,g=[];e&&g.push(e),i&&g.push(i),r&&r.length&&(g=g.concat(r));for(var h=0,d=g.length;d>h;h++){var v=g[h];if(p[v]&&"undefined"!=typeof p[v][t]&&(f=Y(t,a,o)),"undefined"!=typeof f)break}return f||""===f||(f=t,l&&!O&&n.get(l)(t,i)),f},f&&(angular.equals(p,{})&&N.use(N.use()),r&&r.length))for(var B=0,J=r.length;J>B;B++)T[r[B]]=R(r[B]);return N}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(t){var e,n={},r="default",a=null,i={escaped:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=angular.element("<div></div>").text(t[n]).html());return e}},o=function(t){var e;return e=angular.isFunction(i[a])?i[a](t):t};return n.setLocale=function(t){e=t},n.getInterpolationIdentifier=function(){return r},n.useSanitizeValueStrategy=function(t){return a=t,this},n.interpolate=function(e,n){return a&&(n=o(n)),t(e)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(t,e,n,r,a,i){return{restrict:"AE",scope:!0,compile:function(e,o){var s=o.translateValues?o.translateValues:void 0,u=o.translateInterpolation?o.translateInterpolation:void 0,l=e[0].outerHTML.match(/translate-value-+/i);return function(e,c,f){if(e.interpolateParams={},f.$observe("translate",function(t){e.translationId=angular.equals(t,"")||!angular.isDefined(t)?n(c.text().replace(/^\s+|\s+$/g,""))(e.$parent):t}),f.$observe("translateDefault",function(t){e.defaultText=t}),s&&f.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,a(t)(e.$parent))})}),l){var g=function(t){f.$observe(t,function(n){e.interpolateParams[angular.lowercase(t.substr(14,1))+t.substr(15)]=n})};for(var h in f)f.hasOwnProperty(h)&&"translateValue"===h.substr(0,14)&&"translateValues"!==h&&g(h)}var d=function(e,n,a){a||"undefined"==typeof n.defaultText||(e=n.defaultText),c.html(e);var i=t.isPostCompilingEnabled(),s="undefined"!=typeof o.translateCompile,u=s&&"false"!==o.translateCompile;(i&&!s||u)&&r(c.contents())(n)},p=function(){return s||l?function(){var n=function(){e.translationId&&e.interpolateParams&&t(e.translationId,e.interpolateParams,u).then(function(t){d(t,e,!0)},function(t){d(t,e,!1)})};e.$watch("interpolateParams",n,!0),e.$watch("translationId",n)}:function(){var n=e.$watch("translationId",function(r){e.translationId&&r&&t(r,{},u).then(function(t){d(t,e,!0),n()},function(t){d(t,e,!1),n()})},!0)}}(),v=i.$on("$translateChangeSuccess",p);p(),e.$on("$destroy",v)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(t,e){return{compile:function(n){t.$on("$translateLoadingSuccess",function(){n.removeClass(e.cloakClassName())}),n.addClass(e.cloakClassName())}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(t,e){return function(n,r,a){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,a)}}]),angular.module("pascalprecht.translate").factory("$translateCookieStorage",["$cookieStore",function(t){var e={get:function(e){return t.get(e)},set:function(e,n){t.put(e,n)}};return e}]),angular.module("pascalprecht.translate").factory("$translateLocalStorage",["$window","$translateCookieStorage",function(t,e){var n=function(){var e;return{get:function(n){return e||(e=t.localStorage.getItem(n)),e},set:function(n,r){e=r,t.localStorage.setItem(n,r)}}}(),r="localStorage"in t&&null!==t.localStorage;if(r){var a="pascalprecht.translate.storageTest";try{t.localStorage.setItem(a,"foo"),t.localStorage.removeItem(a)}catch(i){r=!1}}var o=r?n:e;return o}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(t,e){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var r=t.defer();return e({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""}).success(function(t){r.resolve(t)}).error(function(){r.reject(n.key)}),r.promise}}]);